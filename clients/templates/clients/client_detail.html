{% extends 'clients/base.html' %}

{% block title %}Client Details{% endblock %}

{% block content %}
<div class="client-details">
    <h1>Client Details</h1>
    <div class="client-info">
        <p><strong>Last Name:</strong> {{ client.last_name }}</p>
        <p><strong>First Name:</strong> {{ client.first_name }}</p>
        <p><strong>Middle Name:</strong> {{ client.middle_name }}</p>
        <p><strong>Age:</strong> {{ client.age_with_suffix }}</p>
        <p><strong>Mailing Name:</strong> {{ client.mailing_name }}</p>
        <p><strong>Postal Code:</strong> {{ client.postal_code }}</p>
        <p><strong>Country:</strong> {{ client.country }}</p>
        <p><strong>Region:</strong> {{ client.region }}</p>
        <p><strong>City:</strong> {{ client.city }}</p>
        <p><strong>Address:</strong> {{ client.address }}</p>
        <p><strong>Work Phone:</strong> {{ client.work_phone }}</p>
        <p><strong>Home Phone:</strong> {{ client.home_phone }}</p>
        <p><strong>Mobile Phone:</strong> {{ client.mobile_phone }}</p>
        <p><strong>Birth Date:</strong> {{ client.birth_date }}</p>
        <p><strong>Passport Number:</strong> {{ client.passport_number }}</p>
        <p><strong>Salutation:</strong> {{ client.salutation }}</p>
        <p><strong>Comments:</strong> {{ client.comments }}</p>
        <p><strong>Email:</strong> {{ client.email }}</p>
        <p><strong>Send Email:</strong> {{ client.send_email }}</p>
        <p><strong>Is Active:</strong> {{ client.is_active }}</p>
    </div>

    <h2>Trips</h2>
    {% if trips %}
        <table class="trip-table">
            <thead>
                <tr>
                    <th>Destination</th>
                    <th>Start Date</th>
                    <th>End Date</th>
                    <th>Accommodation</th>
                    <th>Price</th>
                    <th>Notes</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for trip in trips %}
                    <tr>
                        <td>{{ trip.destination }}</td>
                        <td>{{ trip.start_date }}</td>
                        <td>{{ trip.end_date }}</td>
                        <td>{{ trip.accommodation }}</td>
                        <td>{{ trip.price }}</td>
                        <td>{{ trip.notes }}</td>
                        <td>
                            <a href="{% url 'trip_update' trip.pk %}" class="action-link edit">Edit</a>
                            <a href="{% url 'trip_delete' trip.pk %}" class="action-link delete">Delete</a>
                        </td>                                          
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>No trips found for this client.</p>
    {% endif %}
    <a class="add-trip-button" href="{% url 'trip_create' client.id %}">Add New Trip</a>
</div>
{% endblock %}
